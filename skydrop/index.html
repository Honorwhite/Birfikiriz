<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="supported-color-schemes" content="dark">
    <title>SkyDrop | P2P File Sharing</title>
    <meta name="color-scheme" content="dark">
    <meta name="theme-color" content="#0f172a">
    <link rel="stylesheet" href="style.css">
    <script src="https://unpkg.com/peerjs@1.5.2/dist/peerjs.min.js"></script>
    <script src="https://unpkg.com/mqtt/dist/mqtt.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
</head>

<body>
    <div class="background">
        <div class="circle circle-1"></div>
        <div class="circle circle-2"></div>
        <div class="circle circle-3"></div>
    </div>

    <main class="glass-container">
        <header>
            <div class="logo">
                <i data-lucide="send" class="icon-logo"></i>
                <h1>SkyDrop</h1>
            </div>
            <div class="header-right">
                <div id="status" class="status-badge">Connecting...</div>
                <button id="btn-refresh" class="btn-icon" title="Refresh Discovery">
                    <i data-lucide="refresh-cw"></i>
                </button>
            </div>
        </header>

        <section id="discovery" class="peer-grid">
            <!-- Peers will be injected here -->
            <div id="empty-state" class="empty-state">
                <div class="loader-container">
                    <div class="loader"></div>
                </div>
                <p>Looking for devices on the same network...</p>
                <small>Open SkyDrop on another device to start sharing</small>
            </div>
        </section>

        <footer>
            <div class="local-peer">
                <div class="peer-info">
                    <i data-lucide="laptop" class="icon-small"></i>
                    <span id="local-peer-name">Detecting device...</span>
                </div>
            </div>
        </footer>
    </main>

    <!-- Modal for File Acceptance -->
    <div id="modal-container" class="modal-overlay hidden">
        <div class="glass-modal">
            <h3 id="modal-title">Incoming File</h3>
            <p id="modal-message">User wants to send "file.pdf" (1.2 MB)</p>
            <div class="modal-actions">
                <button id="btn-decline" class="btn btn-secondary">Decline</button>
                <button id="btn-accept" class="btn btn-primary">Accept</button>
            </div>
        </div>
    </div>

    <!-- Progress Indicator -->
    <div id="progress-container" class="progress-overlay hidden">
        <div class="glass-modal">
            <h3 id="progress-title">Sending File...</h3>
            <div class="progress-bar-bg">
                <div id="progress-bar" class="progress-bar-fill"></div>
            </div>
            <p id="progress-text">0%</p>
        </div>
    </div>

    <script src="utils.js"></script>
    <script src="main.js"></script>
    <script>
        lucide.createIcons();
    </script>
</body>

</html>